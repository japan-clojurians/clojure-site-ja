<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8"/>
    <title>Clojure - Clojure Governance and How It Got That Way</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Clojure の日本語ドキュメントです">
    <meta name="author" content="Japan Clojurians">
    <meta name="keywords" content="Clojure 日本語">
    <meta name="generator" content="JBake">

    <!-- Le styles -->
    <link href="../../../../css/normalize.css" rel="stylesheet">
    <link href="../../../../css/webflow.css" rel="stylesheet">
    <link href="../../../../css/asciidoctor.css" rel="stylesheet">
    <link href="../../../../css/base.css" rel="stylesheet">
    <link href="../../../../css/bootstrap.min.css" rel="stylesheet">
    <link href="../../../../css/prettify.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../../../../js/html5shiv.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" type="image/x-icon" href="../../../../images/clojure-logo-icon-32.png">
  </head>
  <body onload="prettyPrint()">
    <div id="wrap">

	<!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../../../../">Clojure</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="../../../../about/rationale.html">概要</a></li>
            <li><a href="../../../../reference/documentation">リファレンス</a></li>
            <!-- <li><a href="../../../../api/api.html">API</a></li>
              <li><a href="../../../../community/downloads.html">リリース</a></li>
              <li><a href="../../../../guides/guides.html">ガイド</a></li>
              <li><a href="../../../../community/resources.html">コミュニティ</a></li>
              <li><a href="../../../../news/news.html">ニュース</a></li>
              <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
              <ul class="dropdown-menu">
              <li><a href="#">Action</a></li>
              <li><a href="#">Another action</a></li>
              <li><a href="#">Something else here</a></li>
              <li class="divider"></li>
              <li class="dropdown-header">Nav header</li>
              <li><a href="#">Separated link</a></li>
              <li><a href="#">One more separated link</a></li>
              </ul>
              </li> -->
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
    <div class="container">

<div class="page-header">
<h1>Clojure Governance and How It Got That Way</h1>
</div>

<p><em></em></p>

<p><div class="sect1">
<h2 id="_enter_rich_with_parentheses">Enter Rich, with Parentheses</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the beginning, there was a guy with an idea. That guy was Rich Hickey, and his idea was to combine the power of Lisp with the reach of a modern managed runtime. He started with <a href="http://jfli.sourceforge.net/">Jfli</a>, embedding a JVM in Lispworks' Common Lisp implementation. When that proved inadequate, he took a two-year sabbatical to write the compiler that would eventually become <a href="https://clojure.org/">Clojure</a>: a completely new Lisp for the JVM with language-level concurrency support.</p>
</div>
<div class="paragraph">
<p>In late 2007, Rich Hickey presented Clojure at a meeting of the New York Lisp users' group, <a href="http://lispnyc.org/">LispNYC</a>. I was there, and I was so excited by what I saw that I wrote one of the <a href="http://stuartsierra.com/2007/11/15/clojure-a-lisp-worth-talking-about">first blog articles about Clojure</a>. Three days later, I was asking questions about Java interop on the <a href="http://groups.google.com/group/clojure">Clojure mailing list</a>.</p>
</div>
<div class="paragraph">
<p>Those early days were fun, participating in heady discussions about fundamental language features like <a href="http://groups.google.com/group/clojure/browse_thread/thread/3a76a052b419d4d1/d57ae6ad6efb0d4e?#d57ae6ad6efb0d4e">nil vs. false</a> and <a href="http://groups.google.com/group/clojure/browse_thread/thread/8b2c8dc96b39ddd7/5237b9d3ab300df8">argument order</a>. It felt like the beginning of something genuinely new. The community was tiny, and Rich participated in almost every discussion on the mailing list or IRC.</p>
</div>
<div class="paragraph">
<p>How times have changed. The Clojure mailing list has over five thousand members, and we just wrapped up the <a href="http://clojure-conj.org/">second international Clojure conference</a> with nearly four hundred attendees. Google Groups tells me I&#8217;ve racked up over a thousand posts on the mailing list, which is shocking to me. There are five books and counting about Clojure. People are building businesses and careers on it. Who would have guessed, in 2007, that we would be here in just four years?</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_enter_second_stuart">Enter Second Stuart</h2>
<div class="sectionbody">
<div class="paragraph">
<p>(That was a cheap shot. Hi, Stu! :)</p>
</div>
<div class="paragraph">
<p>In the Summer of 2008, Stuart Halloway started <a href="http://thinkrelevance.com/blog/2008/07/30/clojure.html">blogging about Clojure</a>. With his co-founder Justin Gehtland, Stuart H. had already <a href="http://thinkrelevance.com/">built a business</a> helping big companies navigate from ponderous Java development to more agile practices and more expressive languages like Ruby. Stuart H. decided that Clojure was the <a href="http://thinkrelevance.com/blog/2009/10/19/the-case-for-clojure.html">next big thing</a>. He wrote the <a href="http://pragprog.com/book/shcloj/programming-clojure">first book about Clojure</a> (soon to get a <a href="http://pragprog.com/book/shcloj2/programming-clojure">2nd edition</a>). When he and Rich met at the 2008 JVM Language Summit, they started a long conversation that would eventually become a partnership.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_clojure_contrib_the_beginning">Clojure Contrib: The Beginning</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Around the same mid-2008 time frame, "clojure-contrib" began its life as a Subversion repository where community members could share code. There were twelve committers and no rules, just a bunch of Clojure source files containing code that we found useful. I contributed str-utils, seq-utils, duck-streams, and later test-is.</p>
</div>
<div class="paragraph">
<p>The growth of contrib eventually led to the need for some kind of library loading scheme more expressive than <code>load-file</code>. I wrote a primitive <code>require</code> function that took a file name argument and loaded it from the classpath. Steve Gilardi modified <code>require</code> to take a namespace symbol instead of a file. I suggested <code>use</code> as the shortcut for the common case of <code>require</code> followed by <code>refer</code>. This all happened fairly quickly, without a lot of consideration or planning, culminating in the <code>ns</code> macro. The peculiarities of the <code>ns</code> macro grew directly out of this work, so you can blame us for that.</p>
</div>
<div class="paragraph">
<p>Clojure-contrib also prompted a question that every open-source software project must grapple with: how to handle ownership. We&#8217;d already <a href="http://groups.google.com/group/clojure/browse_thread/thread/4eea23108b2ed46e/e69c92cd7be8826a">gone through two licenses</a>: the Common Public License and its successor, the Eclipse Public License.</p>
</div>
<div class="paragraph">
<p>Rich <a href="http://groups.google.com/group/clojure/browse_thread/thread/6de5840e5ab9abdf/306f63a87d34e5f1">proposed a Clojure Contributor Agreement</a> as a means to protect Clojure&#8217;s future. The motivation for the CA was to make sure Clojure would always be open-source but never trapped by a particular license. The Clojure CA is a covenant between the contributor and Rich Hickey: the contributor assigns joint ownership of his contributions to Rich. In return, Rich promises that Clojure will always be available under an open-source license approved by the <a href="http://www.fsf.org/">FSF</a> or the <a href="http://www.opensource.org/">OSI</a>.</p>
</div>
<div class="paragraph">
<p>Some open-source projects got stuck with the first license under which contributions were made. Under the CA, if the license ever needs to change again, there would be no obstacles and no need to get permission from every past contributor. Agreements like this have become standard practice for owners of large open-source projects like <a href="http://www.eclipse.org/legal/committer_process/EclipseIndividualCommitterAgreementFinal.pdf">Eclipse</a>, <a href="http://www.apache.org/licenses/icla.txt">Apache</a>, and <a href="http://www.oracle.com/technetwork/community/oca-486395.html">Oracle</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_clojure_core_and_new_contrib">Clojure/core and "New Contrib"</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In 2010 I left my cozy academic job and went to work for Relevance, where Stuart Halloway and Rich were discussing a strategic partnership that would eventually become <a href="http://clojure.com/">Clojure/core</a>. So what is Clojure/core? It&#8217;s a business initiative of Relevance (though not an independent business entity) to provide consulting, training, and development-for-hire services around Clojure. Rich Hickey is an advisor to Clojure/core, but not a Relevance employee.</p>
</div>
<div class="paragraph">
<p>Members of Clojure/core, of which I am one, have made a commitment to spend their <a href="http://thinkrelevance.com/blog/2011/08/01/Friday-Update.html">20% time</a> supporting the Clojure ecosystem. Although Rich still personally reviews every patch for the language itself, the job of answering questions and organizing contributions from a 5000-member community is too big for one person, so Rich delegated that responsibility to Clojure/core.</p>
</div>
<div class="paragraph">
<p>The first big issue Clojure/core had to confront was the distribution of clojure-contrib. With sixty-plus libraries in one binary release, it was already unwieldy. Since clojure-contrib releases were tied to Clojure language releases, which happened infrequently, development had stalled. There was also vast confusion about what, exactly, clojure-contrib was meant to be. Was it an essential component of the language, a nascent standard library, or a load of crap? (I was inclined to the latter view, especially with regard to my own contributions.)</p>
</div>
<div class="paragraph">
<p>My attempts at <a href="https://github.com/clojure/clojure-contrib/commit/a6a92b9b3d2bfd9a56e1e5e9cfba706d1aeeaae5">modularizing clojure-contrib within a single Git repository</a> failed to improve the situation. Eventually, we settled on the solution of separate Git repositories for each library. This was a huge amount of work: dozens of repositories to create and hundreds of files to move. Many of the contrib libraries were stagnant, their original authors lacking time to continue working on them.</p>
</div>
<div class="paragraph">
<p>Finally, almost a year later, the situation has stabilized: <a href="https://dev.clojure.org/display/doc/Clojure%2BContrib">28 libraries</a>, each with its own Git repository, test suite, <a href="https://build.clojure.org/">continuous integration</a>, and independent release cycle. The overall code quality is higher and development is moving forward again.</p>
</div>
<div class="paragraph">
<p>It was a painful transition for everyone, not least for those of us trying to manage it all and bear the brunt of the inevitable carping. On top of everything else, the whole process overlapped with the release of Clojure 1.3, the first release to break backwards-compatibility in noticeable ways (non-dynamic Vars as a default, long/double as default numeric types).</p>
</div>
<div class="paragraph">
<p>Our technology choices for Clojure and "new contrib" — GitHub, JIRA, Hudson, and Maven — were driven by several concerns:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>to be first-class participants in the Java ecosystem</p>
</li>
<li>
<p>to preserve the future-proof licensing structure of the CA</p>
</li>
<li>
<p>to give library developers freedom to develop/release on their own schedule</p>
</li>
<li>
<p>to ensure changes are made only after a thorough review process</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The last point was particularly important for patches to the Clojure language. Clojure is <strong>very</strong> stable: since its first public release, implementation bugs have been rare and regressions almost nonexistent. Most reported bugs are edge cases in Java interop. But stability has a price: new features come more slowly. The majority of JIRA tickets on Clojure are really feature requests. Rich is extremely conservative about adding features to the language, and he has impressed this view on Clojure/core for the purpose of screening tickets.</p>
</div>
<div class="paragraph">
<p>To take one prominent example, <a href="http://groups.google.com/group/clojure/browse_thread/thread/aa57ab265f7474a/51bb53ca077154f8">named arguments were discussed</a> as far back as January 2008. Community members developed the <a href="http://groups.google.com/group/clojure/browse_thread/thread/d4f5f04f6894c741/4d3051dc6604df5d">defnk macro</a> to facilitate writing functions with named arguments, and <a href="http://groups.google.com/group/clojure/browse_thread/thread/de791a1a28659ea/6020c7db6bb74844">lobbied to add it</a> to Clojure. Finally, in March 2010, Rich made a <a href="https://github.com/clojure/clojure/commit/29389970bcd41998359681d9a4a20ee391a1e07c">one-line commit</a> adding support for map destructuring from sequential collections. This gave the benefit of keyword-style parameters everywhere destructuring is supported, including function arguments. By waiting, and thinking, we got something better than defnk. If defnk had been accepted earlier, we might have been stuck with an inferior implementation.</p>
</div>
<div class="paragraph">
<p>Conversely, the decision to move some libraries into the language, notably my testing library, was probably premature. (Stuart Halloway accepts blame for that one. :) Some of the decisions I made in that library could use revisiting, but now clojure.test is what we&#8217;re stuck with.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_clojure_dev_and_the_future">Clojure/dev and the Future</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If there was one mistake that I personally made during the 1.3 migration, it was speaking as if Clojure/core <strong>owned</strong> Clojure and clojure-contrib. We don&#8217;t: Clojure is owned by Rich Hickey, and clojure-contrib is owned jointly by Rich Hickey and contributors. But we <strong>are</strong> the appointed stewards (and Stuarts!) of the open-source Clojure ecosystem. In that role, we have to make decisions about what we choose to invest time in supporting. Given limited time, and following Rich&#8217;s conservative position on new features, that decision is usually "no."</p>
</div>
<div class="paragraph">
<p>It&#8217;s a difficult position to be in. Most of Clojure/core&#8217;s members come from the free-wheeling, fast-paced open-source world of Ruby on Rails. We really don&#8217;t enjoy saying "no" all the time. But a conservative attitude toward new features is exactly the reason Clojure is so stable. Patches don&#8217;t get into the language until they have been <a href="https://dev.clojure.org/display/design/JIRA%2Bworkflow">reviewed by at least three people</a>, one of them Rich Hickey. New libraries don&#8217;t get added to <a href="https://dev.clojure.org/display/design/Clojure%2BContrib">clojure-contrib</a> without multiple mailing-list discussions. None of the new contrib libraries has reached the <a href="https://dev.clojure.org/display/design/Contrib%2B1.0.0%2BReleases">1.0.0 milestone</a>, and probably won&#8217;t for some time. These hurdles are not arbitrary; they are an attempt to guarantee that new additions to Clojure reflect the same consideration and careful design that Rich invested in the original implementation.</p>
</div>
<div class="paragraph">
<p>So what is clojure-contrib today? It&#8217;s a curated set of libraries whose ownership and licensing is governed by the Clojure Contributor Agreement. It could also serve as a proving ground for new features in the language, but this does not imply that every contrib library will eventually make it into the language.</p>
</div>
<div class="paragraph">
<p>With the expansion of contrib, we&#8217;ve given name to another layer of organization: <strong>Clojure/dev</strong>. Clojure/dev is the set of all people who have signed the Clojure Contributor Agreement. This entitles them to participate in discussions on the <a href="http://groups.google.com/group/clojure-dev">clojure-dev mailing list</a>, submit patches on <a href="https://dev.clojure.org/jira">JIRA</a>, and become committers on contrib libraries. Within Clojure/dev is the smaller set of people who have been tasked with screening Clojure language tickets. Clojure/core overlaps with both groups.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/content/news/2012-02-17/clojure-community-layers.png" alt="Diagram showing layers of the Clojure community">
</div>
</div>
<div class="paragraph">
<p>At the tail end of this year&#8217;s <a href="http://clojure-conj.org/">Clojure/conj</a>, Stuart Halloway opened the first face-to-face meeting of Clojure/dev with these words: "This is the Clojure/dev meeting. It&#8217;s a meeting of volunteers talking about how they&#8217;re going to spend their free time. The only thing we owe each other is honest communication about when we&#8217;re planning to do something and when we&#8217;re not. There is no obligation for anybody in this room to build anything for anybody else."</p>
</div>
<div class="paragraph">
<p>One consensus that came out of the Clojure/dev meeting was that we need to get better at using our tools, particularly JIRA. We would like to streamline the processes of joining Clojure/dev, screening patches, and creating new contrib libraries. We also need better integration testing between Clojure and applications that use it. Application and library developers can help by running their test suites against pre-release versions of Clojure (alphas, betas, even SNAPSHOTs) and reporting problems early.</p>
</div>
<div class="paragraph">
<p>But Stu&#8217;s last point is an important one: no one in the Clojure community owes anybody anything. If you want something, it&#8217;s not enough to ask for it, you need to be willing to do the work to make it happen. At the same time, don&#8217;t let a lukewarm response to ideas on the mailing list dissuade you from implementing something you think is valuable. It might just be that no one has time to think about it. Recall keyword arguments: more than two years from inception to completion. We&#8217;re in this for the long haul. Join us, be patient, and let&#8217;s see where we can go.</p>
</div>
</div>
</div></p>

<hr />

		</div>
		<div id="push"></div>
    </div>

    <div id="footer">
      <div class="container">
      </div>
    </div>

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../../../../js/jquery-1.11.1.min.js"></script>
    <script src="../../../../js/bootstrap.min.js"></script>
    <script src="../../../../js/prettify.js"></script>

  </body>
</html>